en listado_amigos.php cambiar esto:
    if (mysqli_num_rows($resultadoConsulta) == 0) {
      echo "<li class='p-2'>
        <div class='d-flex flex-row'>
          <div class='pt-1'>
            <p class='fw-bold mb-0'>No tienes amigos agregados</p>
          </div>
        </div>
      </li>";
      exit();
    }

    while ($fila = mysqli_fetch_assoc($resultadoConsulta)) {
      $nombreAmistad = $fila['nombre_real'];
      $idAmistad = $fila['user_id'];
      echo "<li class='p-2'>
  <a href='./chat_index.php?idAmigo=" . $idAmistad . "' class='d-flex justify-content-between text-decoration-none text-dark'>
    <div class='d-flex flex-row'>
      <div class='pt-1'>
        <p class='fw-bold mb-0 text-center'>" . $nombreAmistad . "</p>
      </div>
    </div>
  </a>
</li>
";
ponerlo en chat_index.php porque es algo que se muestra no forma parte de ningun proceso en concreto.


editar los echo con echo htmlentities($texto, ENT_QUOTES, 'UTF-8'); para evitar 